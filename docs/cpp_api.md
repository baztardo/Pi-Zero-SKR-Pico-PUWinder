# API Documentation - Cpp Api.Md

*This documentation is automatically generated by AI.*

## spindle.h

### Classes

- **BLDC_MOTOR** (line 19)

### Functions

- **BLDC_MOTOR** (line 26)
- **init** (line 27)
- **get_rpm** (line 30)
- **get_frequency** (line 31)
- **get_pulse_count** (line 32)
- **set_pulses_per_revolution** (line 33)
- **reset** (line 34)
- **get_smoothed_rpm** (line 35)
- **debug_status** (line 36)
- **get_direction** (line 37)
- **set_direction** (line 38)
- **set_brake** (line 39)
- **get_brake** (line 40)
- **get_revolutions** (line 41)
- **isr_wrapper** (line 53)
- **handle_pulse** (line 55)

---

## tmc2209.h

### Classes

- **TMC2209_UART** (line 4)

### Functions

- **TMC2209_UART** (line 8)
- **TMC2209_UART** (line 9)
- **begin** (line 12)
- **readRegister** (line 15)
- **writeRegister** (line 16)
- **set_rms_current** (line 17)
- **set_ihold_irun** (line 18)
- **testRead** (line 19)
- **set_microsteps** (line 20)
- **enable_stealthchop** (line 21)
- **init_driver** (line 22)
- **get_driver_status** (line 23)
- **is_stalled** (line 24)
- **is_overtemp** (line 25)
- **crc8** (line 37)
- **for** (line 39)
- **for** (line 41)

---

## version.h

---

## traverse_controller.h

### Classes

- **TraverseController** (line 15)

### Functions

- **TraverseController** (line 17)
- **init** (line 21)
- **enable** (line 22)
- **disable** (line 23)
- **move_to_position** (line 26)
- **move_relative** (line 27)
- **home** (line 28)
- **set_speed** (line 31)
- **set_acceleration** (line 32)
- **get_position** (line 35)
- **get_speed** (line 36)
- **is_moving** (line 37)
- **is_homed** (line 38)
- **emergency_stop** (line 41)
- **set_brake** (line 42)
- **generate_steps** (line 45)
- **stop_steps** (line 46)
- **step_motor** (line 79)
- **calculate_step_interval** (line 80)
- **update_position** (line 81)
- **check_home_switch** (line 82)
- **step_timer_isr** (line 85)

---

## gcode_interface.h

### Classes

- **GCodeInterface** (line 62)

### Functions

- **GCodeInterface** (line 64)
- **parse_command** (line 68)
- **execute_command** (line 69)
- **send_response** (line 70)
- **send_error** (line 71)
- **is_busy** (line 74)
- **get_current_command** (line 75)
- **set_error** (line 79)
- **clear_error** (line 81)
- **parse_g_command** (line 95)
- **parse_m_command** (line 96)
- **parse_parameters** (line 97)
- **parse_float** (line 98)
- **execute_g0_g1** (line 101)
- **execute_g28** (line 102)
- **execute_m3_m4** (line 103)
- **execute_m5** (line 104)
- **execute_s** (line 105)
- **execute_m6** (line 106)
- **execute_m7_m8_m9** (line 107)
- **execute_m10_m11** (line 108)
- **execute_m12_m13** (line 109)
- **execute_m14_m15** (line 110)
- **execute_m16** (line 111)
- **execute_m17_m18** (line 112)
- **execute_m19** (line 113)
- **execute_m42** (line 114)
- **execute_m47** (line 115)
- **execute_ping** (line 116)
- **execute_version** (line 117)
- **log_command** (line 120)
- **log_error** (line 121)

---

## config.h

---

## gcode_parser_improved.h

### Classes

- **GCodeParserImproved** (line 71)

### Functions

- **GCodeParserImproved** (line 76)
- **parse_command** (line 89)
- **get_command_type** (line 96)
- **parse_parameters** (line 104)
- **validate_command** (line 111)
- **clear_error** (line 122)
- **initialize_command_lookup** (line 135)
- **parse_coordinate** (line 144)
- **parse_float** (line 159)
- **set_error** (line 165)

---

## scheduler.h

### Classes

- **MoveQueue** (line 13)
- **Scheduler** (line 19)

### Functions

- **Scheduler** (line 25)
- **start** (line 32)
- **stop** (line 37)
- **is_running** (line 43)
- **get_tick_count** (line 49)
- **get_frequency_hz** (line 55)
- **timer_callback** (line 80)
- **handle_isr** (line 85)

---

## winding_controller.h

### Classes

- **WindingController** (line 67)

### Functions

- **calculate_layers** (line 53)
- **calculate_layers** (line 55)
- **WindingController** (line 73)
- **init** (line 74)
- **set_parameters** (line 76)
- **start** (line 77)
- **stop** (line 78)
- **update** (line 79)
- **get_state** (line 80)
- **get_current_layer** (line 81)
- **get_turns_completed** (line 82)
- **get_current_rpm** (line 83)
- **emergency_stop** (line 84)
- **home_all_axes** (line 87)
- **home_spindle** (line 120)
- **home_traverse** (line 125)
- **move_to_start** (line 130)
- **ramp_up_spindle** (line 135)
- **execute_winding** (line 140)
- **ramp_down_spindle** (line 145)
- **update_rpm** (line 150)
- **sync_traverse_to_spindle** (line 155)
- **update_display** (line 160)
- **mm_to_steps** (line 167)
- **steps_to_mm** (line 174)

---

## stepcompress_improved.h

### Classes

- **StepCompressorImproved** (line 25)

### Functions

- **compress_bisect_add** (line 53)
- **detect_velocity_spikes** (line 65)
- **calculate_velocity_difference** (line 76)
- **optimize_chunk_boundaries** (line 85)

---

## move_queue_improved.h

### Classes

- **MoveQueueImproved** (line 36)

### Functions

- **MoveQueueImproved** (line 41)
- **init** (line 51)
- **push_chunk_priority** (line 61)
- **pop_chunk_priority** (line 73)
- **has_chunk** (line 80)
- **get_queue_depth** (line 87)
- **clear_queue** (line 93)
- **set_direction** (line 100)
- **set_enable** (line 107)
- **is_active** (line 114)
- **get_step_count** (line 121)
- **axis_isr_handler_priority** (line 127)
- **handle_isr_tick_priority** (line 132)
- **process_urgent_moves** (line 137)
- **get_queue_stats** (line 153)
- **execute_step_pulse** (line 179)
- **update_queue_stats** (line 185)
- **check_deadline_violation** (line 192)

---

## scheduler_improved.h

### Classes

- **SchedulerImproved** (line 14)

### Functions

- **SchedulerImproved** (line 20)
- **start_hardware_timer** (line 32)
- **stop_hardware_timer** (line 37)
- **is_running** (line 43)
- **get_tick_count** (line 49)
- **get_frequency_hz** (line 55)
- **hardware_timer_isr** (line 67)
- **configure_hardware_timer** (line 95)
- **handle_isr_tick** (line 100)

---

## stepcompress.h

### Classes

- **StepCompressor** (line 22)

### Functions

- **compress_trapezoid_into** (line 61)
- **generate_step_times_trapezoid** (line 79)
- **fit_chunk** (line 96)

---

## move_queue.h

### Classes

- **MoveQueue** (line 14)

### Functions

- **MoveQueue** (line 19)
- **init** (line 24)
- **push_chunk** (line 32)
- **pop_chunk** (line 40)
- **has_chunk** (line 47)
- **clear_queue** (line 53)
- **axis_isr_handler** (line 60)
- **handle_isr_tick** (line 67)
- **set_direction** (line 74)
- **set_enable** (line 81)
- **is_active** (line 88)
- **get_step_count** (line 95)
- **get_queue_depth** (line 102)
- **execute_step_pulse** (line 118)

---

## gcode_interface.cpp

### Functions

- **printf** (line 27)
- **printf** (line 34)
- **set_error** (line 42)
- **parse_parameters** (line 56)
- **parse_parameters** (line 60)
- **parse_parameters** (line 64)
- **parse_parameters** (line 68)
- **if** (line 74)
- **parse_parameters** (line 76)
- **parse_parameters** (line 136)
- **parse_parameters** (line 140)
- **set_error** (line 152)
- **if** (line 161)
- **set_error** (line 162)
- **clear_error** (line 167)
- **switch** (line 170)
- **set_error** (line 232)
- **printf** (line 245)
- **uart_puts** (line 247)
- **uart_puts** (line 248)
- **printf** (line 255)
- **uart_puts** (line 257)
- **uart_puts** (line 258)
- **uart_puts** (line 259)
- **log_error** (line 290)
- **while** (line 334)
- **if** (line 335)
- **if** (line 339)
- **if** (line 343)
- **if** (line 347)
- **if** (line 351)
- **if** (line 355)
- **if** (line 381)
- **set_error** (line 383)
- **if** (line 386)
- **printf** (line 394)
- **send_response** (line 396)
- **set_error** (line 400)
- **if** (line 410)
- **set_error** (line 412)
- **send_response** (line 418)
- **if** (line 427)
- **set_error** (line 429)
- **if** (line 432)
- **if** (line 435)
- **if** (line 443)
- **pwm_set_gpio_level** (line 453)
- **send_response** (line 454)
- **set_error** (line 458)
- **if** (line 468)
- **set_error** (line 470)
- **pwm_set_gpio_level** (line 475)
- **send_response** (line 479)
- **if** (line 487)
- **if** (line 490)
- **pwm_set_gpio_level** (line 501)
- **send_response** (line 502)
- **set_error** (line 506)
- **send_response** (line 515)
- **send_response** (line 523)
- **if** (line 532)
- **set_error** (line 534)
- **send_response** (line 541)
- **send_response** (line 549)
- **send_response** (line 557)
- **if** (line 566)
- **set_error** (line 568)
- **send_response** (line 574)
- **if** (line 583)
- **set_error** (line 585)
- **if** (line 588)
- **send_response** (line 593)
- **send_response** (line 598)
- **send_response** (line 608)
- **if** (line 616)
- **send_response** (line 618)
- **set_error** (line 621)
- **if** (line 630)
- **send_response** (line 632)
- **set_error** (line 635)
- **send_response** (line 644)
- **send_response** (line 652)
- **printf** (line 660)
- **printf** (line 667)

---

## scheduler.cpp

### Functions

- **scheduler_tick** (line 10)
- **scheduler_queue_step** (line 25)
- **gpio_init** (line 52)
- **gpio_set_dir** (line 53)
- **gpio_put** (line 54)
- **for** (line 55)
- **gpio_put** (line 57)
- **sleep_ms** (line 58)
- **gpio_put** (line 59)
- **sleep_ms** (line 60)
- **if** (line 76)
- **cancel_repeating_timer** (line 86)
- **if** (line 110)
- **if** (line 123)
- **if** (line 128)
- **user_callback** (line 129)
- **gpio_put** (line 139)
- **scheduler_tick** (line 147)
- **for** (line 149)
- **gpio_put** (line 156)
- **sleep_us** (line 157)
- **gpio_put** (line 158)
- **if** (line 163)

---

## spindle.cpp

### Functions

- **gpio_init** (line 35)
- **gpio_set_dir** (line 36)
- **gpio_pull_up** (line 37)
- **gpio_init** (line 38)
- **gpio_set_dir** (line 40)
- **gpio_put** (line 41)
- **gpio_init** (line 42)
- **gpio_set_dir** (line 44)
- **gpio_put** (line 45)
- **gpio_set_irq_enabled_with_callback** (line 48)
- **printf** (line 54)
- **printf** (line 56)
- **if** (line 63)
- **if** (line 76)
- **if** (line 85)
- **if** (line 88)
- **gpio_put** (line 101)
- **gpio_put** (line 106)
- **if** (line 148)
- **printf** (line 150)
- **printf** (line 162)
- **printf** (line 186)
- **printf** (line 187)
- **printf** (line 188)
- **printf** (line 189)
- **printf** (line 190)
- **printf** (line 193)
- **printf** (line 194)
- **printf** (line 195)
- **printf** (line 196)

---

## stepcompress.cpp

### Functions

- **generate_step_times_trapezoid** (line 20)
- **while** (line 29)
- **for** (line 124)
- **if** (line 138)
- **if** (line 143)
- **for** (line 170)
- **for** (line 193)
- **for** (line 223)

---

## winding_controller.cpp

### Functions

- **printf** (line 33)
- **if** (line 42)
- **printf** (line 45)
- **printf** (line 47)
- **printf** (line 58)
- **printf** (line 61)
- **if** (line 66)
- **printf** (line 67)
- **printf** (line 70)
- **printf** (line 82)
- **if** (line 84)
- **switch** (line 90)
- **home_spindle** (line 95)
- **home_traverse** (line 99)
- **move_to_start** (line 103)
- **ramp_up_spindle** (line 107)
- **execute_winding** (line 111)
- **ramp_down_spindle** (line 115)
- **printf** (line 119)
- **printf** (line 125)
- **if** (line 127)
- **printf** (line 133)
- **if** (line 134)
- **printf** (line 136)
- **if** (line 148)
- **printf** (line 153)
- **printf** (line 160)
- **for** (line 168)
- **if** (line 174)
- **printf** (line 179)
- **printf** (line 187)
- **for** (line 196)
- **if** (line 205)
- **printf** (line 206)
- **if** (line 223)
- **printf** (line 225)
- **if** (line 233)
- **printf** (line 234)
- **if** (line 243)
- **printf** (line 245)
- **if** (line 250)
- **for** (line 257)
- **update_rpm** (line 266)
- **sync_traverse_to_spindle** (line 269)
- **if** (line 272)
- **if** (line 278)
- **if** (line 283)
- **update_display** (line 291)
- **printf** (line 297)
- **if** (line 301)
- **if** (line 312)
- **printf** (line 315)
- **if** (line 317)
- **printf** (line 320)
- **if** (line 333)
- **if** (line 340)
- **for** (line 347)
- **if** (line 362)
- **printf** (line 375)
- **printf** (line 393)
- **home_traverse** (line 394)
- **home_spindle** (line 395)

---

## tmc2209.cpp

### Functions

- **tmc_crc8** (line 19)
- **for** (line 21)
- **for** (line 23)
- **sw_uart_tx_byte** (line 36)
- **gpio_put** (line 37)
- **for** (line 38)
- **sleep_us** (line 40)
- **gpio_put** (line 42)
- **sw_uart_rx_byte** (line 44)
- **sleep_us** (line 48)
- **for** (line 49)
- **sleep_us** (line 51)
- **sleep_us** (line 53)
- **if** (line 65)
- **uart_init** (line 67)
- **gpio_set_function** (line 68)
- **gpio_set_function** (line 69)
- **gpio_init** (line 73)
- **gpio_set_dir** (line 74)
- **gpio_put** (line 75)
- **gpio_init** (line 84)
- **gpio_set_dir** (line 85)
- **gpio_put** (line 86)
- **uart_write_blocking** (line 102)
- **sleep_ms** (line 106)
- **uart_write_blocking** (line 115)
- **if** (line 127)
- **printf** (line 129)
- **uart_write_blocking** (line 145)
- **gpio_init** (line 160)
- **gpio_set_dir** (line 161)
- **if** (line 162)
- **gpio_put** (line 164)
- **sleep_ms** (line 165)
- **gpio_put** (line 166)
- **printf** (line 172)
- **for** (line 173)
- **printf** (line 174)
- **printf** (line 176)
- **for** (line 179)
- **gpio_put** (line 180)
- **sleep_ms** (line 181)
- **gpio_put** (line 182)
- **sleep_ms** (line 183)
- **if** (line 201)
- **if** (line 219)
- **writeRegister** (line 225)
- **sleep_ms** (line 227)
- **set_ihold_irun** (line 228)
- **writeRegister** (line 236)
- **switch** (line 243)
- **writeRegister** (line 259)
- **if** (line 266)
- **writeRegister** (line 271)
- **writeRegister** (line 276)
- **sleep_ms** (line 277)
- **writeRegister** (line 291)
- **writeRegister** (line 295)
- **writeRegister** (line 296)
- **readRegister** (line 303)

---

## move_queue.cpp

### Functions

- **gpio_init** (line 20)
- **gpio_set_dir** (line 21)
- **gpio_put** (line 22)
- **gpio_init** (line 23)
- **gpio_set_dir** (line 25)
- **gpio_put** (line 26)
- **gpio_init** (line 27)
- **gpio_set_dir** (line 29)
- **gpio_put** (line 30)
- **gpio_init** (line 33)
- **gpio_set_dir** (line 34)
- **gpio_put** (line 35)
- **gpio_init** (line 36)
- **gpio_set_dir** (line 38)
- **gpio_put** (line 39)
- **gpio_init** (line 40)
- **gpio_set_dir** (line 42)
- **gpio_put** (line 43)
- **if** (line 88)
- **gpio_put** (line 104)
- **gpio_put** (line 109)
- **gpio_put** (line 123)
- **busy_wait_us** (line 124)
- **gpio_put** (line 125)
- **if** (line 132)
- **if** (line 133)
- **execute_step_pulse** (line 151)
- **axis_isr_handler** (line 169)
- **axis_isr_handler** (line 171)

---

## traverse_controller.cpp

### Functions

- **printf** (line 43)
- **disable** (line 50)
- **printf** (line 59)
- **gpio_init** (line 62)
- **gpio_set_dir** (line 63)
- **gpio_put** (line 64)
- **gpio_init** (line 67)
- **gpio_set_dir** (line 68)
- **gpio_put** (line 69)
- **gpio_init** (line 72)
- **gpio_set_dir** (line 73)
- **gpio_put** (line 74)
- **gpio_init** (line 77)
- **gpio_set_dir** (line 78)
- **gpio_pull_up** (line 79)
- **printf** (line 83)
- **gpio_put** (line 91)
- **printf** (line 93)
- **gpio_put** (line 97)
- **printf** (line 100)
- **if** (line 107)
- **printf** (line 108)
- **printf** (line 116)
- **gpio_put** (line 125)
- **calculate_step_interval** (line 128)
- **move_to_position** (line 138)
- **if** (line 145)
- **printf** (line 146)
- **printf** (line 149)
- **gpio_put** (line 153)
- **calculate_step_interval** (line 158)
- **if** (line 169)
- **calculate_step_interval** (line 171)
- **printf** (line 172)
- **if** (line 180)
- **printf** (line 182)
- **printf** (line 221)
- **if** (line 229)
- **disable** (line 230)
- **enable** (line 232)
- **if** (line 240)
- **if** (line 245)
- **gpio_put** (line 248)
- **sleep_us** (line 249)
- **gpio_put** (line 250)
- **if** (line 253)
- **if** (line 263)
- **printf** (line 265)
- **printf** (line 276)
- **if** (line 283)
- **if** (line 296)
- **printf** (line 302)
- **if** (line 318)

---

