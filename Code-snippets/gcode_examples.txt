# G-code Examples for Pi Zero SKR Pico PUWinder

## Basic Movement Commands

### Linear Movement
```
G1 X10 Y20 F1000    ; Move to X10 Y20 at 1000 mm/min
G1 Y50 F500         ; Move to Y50 at 500 mm/min
G0 Y0               ; Rapid move to Y0
```

### Homing
```
G28                 ; Home all axes
G28 Y               ; Home Y axis only
```

## Spindle Control Commands

### Start Spindle
```
M3 S1500            ; Start spindle clockwise at 1500 RPM
M4 S2000            ; Start spindle counter-clockwise at 2000 RPM
M3                  ; Start spindle at default speed (1000 RPM)
```

### Stop Spindle
```
M5                  ; Stop spindle
```

### Spindle Speed
```
S2500               ; Set spindle speed to 2500 RPM
```

## Winding Machine Specific Commands

### Brake Control
```
M10                 ; Enable traverse brake
M11                 ; Disable traverse brake
```

### Tension Control
```
M12                 ; Enable wire tension
M13                 ; Disable wire tension
```

### Cooling Control
```
M14                 ; Enable cooling
M15                 ; Disable cooling
```

### Emergency Stop
```
M16                 ; Emergency stop all systems
```

### Enable/Disable Steppers
```
M17                 ; Enable all steppers
M18                 ; Disable all steppers
```

### Homing
```
M19                 ; Home all axes
```

### System Control
```
M42 P2 S1           ; Set GPIO pin 2 high
M42 P2 S0           ; Set GPIO pin 2 low
```

## Complete Winding Program Example

```
; Pickup Winding Program
; Wire diameter: 0.5mm
; Target RPM: 1500
; Layers: 10
; Turns per layer: 100

; Initialize system
G28                 ; Home all axes
M17                 ; Enable steppers
M11                 ; Disable traverse brake

; Start winding
M3 S1500            ; Start spindle at 1500 RPM
G1 Y0 F1000        ; Move to start position

; Layer 1
G1 Y10 F1000       ; Wind layer 1 (10mm traverse)
G1 Y0 F1000        ; Return to start

; Layer 2
G1 Y10 F1000       ; Wind layer 2
G1 Y0 F1000        ; Return to start

; Continue for remaining layers...
; (Repeat for layers 3-10)

; Finish winding
M5                  ; Stop spindle
M10                ; Enable brake
M18                ; Disable steppers
```

## Advanced Winding Patterns

### Zigzag Pattern
```
; Zigzag winding pattern
G1 Y10 F1000       ; Move to end
G1 Y0 F1000        ; Return to start
G1 Y10 F1000       ; Move to end
G1 Y0 F1000        ; Return to start
```

### Spiral Pattern
```
; Spiral winding pattern
G1 Y1 F1000        ; Small increment
G1 Y2 F1000        ; Small increment
G1 Y3 F1000        ; Small increment
; Continue with increasing increments
```

### Variable Speed Winding
```
; Start slow
M3 S500            ; 500 RPM
G1 Y5 F500         ; Slow traverse

; Increase speed
M3 S1000           ; 1000 RPM
G1 Y10 F1000       ; Faster traverse

; Maximum speed
M3 S2000           ; 2000 RPM
G1 Y15 F2000       ; Fast traverse
```

## Error Handling Examples

### Safe Startup Sequence
```
; Safe startup sequence
G28                 ; Home all axes
M17                 ; Enable steppers
M11                 ; Disable brake
M3 S100             ; Start spindle slow
G1 Y1 F100          ; Test small movement
M5                  ; Stop spindle
```

### Emergency Procedures
```
; Emergency stop
M16                 ; Emergency stop all

; Safe shutdown
M5                  ; Stop spindle
M10                ; Enable brake
M18                ; Disable steppers
```

## Testing Commands

### System Test
```
; Test spindle
M3 S1000           ; Start spindle
M5                 ; Stop spindle

; Test traverse
G1 Y10 F1000       ; Move traverse
G1 Y0 F1000        ; Return

; Test homing
G28                ; Home all axes
```

### Communication Test
```
; Test UART communication
PING               ; Should return PONG
VERSION            ; Should return version info
```

## Configuration Examples

### Machine Setup
```
; Configure machine parameters
; Set spindle max RPM
M3 S3000           ; Test max RPM

; Set traverse speed
G1 Y10 F2000       ; Test max traverse speed

; Test homing
G28                ; Test homing sequence
```

### Safety Configuration
```
; Enable safety features
M10                ; Enable brake
M12                ; Enable tension control
M14                ; Enable cooling

; Test safety systems
M16                ; Test emergency stop
```

## Troubleshooting Commands

### Diagnostic Commands
```
; Check system status
PING               ; Test communication
VERSION            ; Check firmware version

; Test individual components
M3 S500            ; Test spindle
G1 Y5 F500         ; Test traverse
G28                ; Test homing
```

### Recovery Commands
```
; Recovery from error
M5                 ; Stop spindle
M10                ; Enable brake
G28                ; Home all axes
M17                ; Enable steppers
```
